<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/remove.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/remove.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/remove.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/img/wico.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/img/wico.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/img/wico.png?v=5.1.4">


  <link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/img/wico.png?v=5.1.4" color="#222">





  <meta name="keywords" content="categories-java git,gpg sign git gpg commit sign error gpg failed to sign the data fatal failed to write commit object">





  <link rel="alternate" href="/remove.io/atom.xml" title="辣椒の酱" type="application/atom+xml">






<meta name="description" content="git gpg commit sign error:gpg failed to sign the datafatal: failed to write commit object">
<meta name="keywords" content="categories-java git,gpg sign git gpg commit sign error gpg failed to sign the data fatal failed to write commit object">
<meta property="og:type" content="article">
<meta property="og:title" content="github gpg failed to sign the data">
<meta property="og:url" content="https://removeif.github.io/develop/github-gpg-failed-to-sign-the-data.html">
<meta property="og:site_name" content="辣椒の酱">
<meta property="og:description" content="git gpg commit sign error:gpg failed to sign the datafatal: failed to write commit object">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-03-20T11:23:16.180Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="github gpg failed to sign the data">
<meta name="twitter:description" content="git gpg commit sign error:gpg failed to sign the datafatal: failed to write commit object">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/remove.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<script data-ad-client="ca-pub-6343805421927634" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Itim|Lobster.css">





  <link rel="canonical" href="https://removeif.github.io/develop/github-gpg-failed-to-sign-the-data.html">





  <title>github gpg failed to sign the data | 辣椒の酱</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/remove.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">辣椒の酱</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">尚未执佩剑，转眼即江湖</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/remove.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/remove.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/remove.io/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/remove.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-message">
          <a href="https://removeif.github.io/message/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            message
          </a>
        </li>
      
        
        <li class="menu-item menu-item-master">
          <a href="https://removeif.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            master
          </a>
        </li>
      

      
        <div class="g-ads-y">
            <br>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6343805421927634" data-ad-slot="6639418948" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </ul>
  

  

</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://removeif.github.io/remove.io/develop/github-gpg-failed-to-sign-the-data.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="辣椒の酱">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/images/tuzi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="辣椒の酱">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">github gpg failed to sign the data</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-20T19:05:03+08:00">
                2020-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/remove.io/categories/develop/" itemprop="url" rel="index">
                    <span itemprop="name">develop</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/remove.io/categories/develop/git/" itemprop="url" rel="index">
                    <span itemprop="name">git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>git gpg commit sign error:<br>gpg failed to sign the data<br>fatal: failed to write commit object <a id="more"></a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">brew uninstall gpg</span><br><span class="line">brew install gpg2</span><br><span class="line">brew install pinentry-mac (<span class="keyword">if</span> needed)</span><br><span class="line">gpg --full-generate-key <span class="comment">#Create a key by using an algorithm.</span></span><br><span class="line"><span class="comment">#Get generated key by executing: </span></span><br><span class="line">gpg --list-keys</span><br><span class="line"><span class="comment">#detail list</span></span><br><span class="line">gpg --list-secret-keys --keyid-format LONG</span><br><span class="line">sec   rsa2048/F9F78B768Fxxxxx 2020-03-13 [SC] [有效至：2022-03-13]</span><br><span class="line">      79418A9275A4D98B86FF39F6xxxxxxxxxxx</span><br><span class="line"><span class="comment">#Set the key here </span></span><br><span class="line">git config --global user.signingkey F9F78B768Fxxxxx</span><br><span class="line">git config --global gpg.program /usr/<span class="built_in">local</span>/bin/gpg</span><br><span class="line">git config --global commit.gpgsign <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>If you want to export your Key to GitHub then:<br><code>gpg --armor --export F9F78B768Fxxxxx</code>and add this key to GitHub at GPG keys: <a href="https://github.com/settings/keys" target="_blank" rel="noopener">https://github.com/settings/keys</a> (with START and END line included)</p>
<p>If the issue still exists:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -r ~/.bash_profile &amp;&amp; <span class="built_in">echo</span> <span class="string">'export GPG_TTY=$(tty)'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export GPG_TTY=$(tty)'</span> &gt;&gt; ~/.profile</span><br></pre></td></tr></table></figure>

<p>If the issue still exists:</p>
<p>Install <a href="https://gpgtools.org" target="_blank" rel="noopener">https://gpgtools.org</a> and sign the key that you used by pressing Sign from the menu bar: Key-&gt;Sign</p>
<p>If the issue still exists:</p>
<p>Go to: ‎⁨your global .gitconfig file which in my case is at: ‎⁨<code>/Users/gent/.gitconfig</code> And modify the .gitconfig file (please make sure Email and Name are the same with the one that you have created while generating the Key):</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[user]</span></span><br><span class="line">	<span class="string">email</span> <span class="string">=</span> <span class="string">gent@youremail.com</span></span><br><span class="line">	<span class="string">name</span> <span class="string">=</span> <span class="string">Gent</span></span><br><span class="line">	<span class="string">signingkey</span> <span class="string">=</span> <span class="string">&lt;YOURKEY&gt;</span></span><br><span class="line"><span class="string">[gpg]</span></span><br><span class="line">	<span class="string">program</span> <span class="string">=</span> <span class="string">/usr/local/bin/gpg</span></span><br><span class="line"><span class="string">[commit]</span></span><br><span class="line">	<span class="string">gpsign</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line">	<span class="string">gpgsign</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="string">[filter</span> <span class="string">"lfs"</span><span class="string">]</span></span><br><span class="line">	<span class="string">process</span> <span class="string">=</span> <span class="string">git-lfs</span> <span class="string">filter-process</span></span><br><span class="line">	<span class="string">required</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line">	<span class="string">clean</span> <span class="string">=</span> <span class="string">git-lfs</span> <span class="string">clean</span> <span class="string">--</span> <span class="string">%f</span></span><br><span class="line">	<span class="string">smudge</span> <span class="string">=</span> <span class="string">git-lfs</span> <span class="string">smudge</span> <span class="string">--</span> <span class="string">%f</span></span><br><span class="line"><span class="string">[credential]</span></span><br><span class="line">	<span class="string">helper</span> <span class="string">=</span> <span class="string">osxkeychain</span></span><br></pre></td></tr></table></figure>

<p>When you create and add a key to gpg-agent you define something called passphrase. Now that passphrase at some point expires, and gpg needs you to enter it again to unlock your key so that you can start signing again.</p>
<p>When you use any other program that interfaces with gpg, gpg’s prompt to you to enter your passphrase does not appear (basically gpg-agent when daemonized cannot possibly show you the input dialog in stdin).</p>
<p>One of the solutions is <code>gpg --sign a_file.txt</code> (<strong>this is very import!!!</strong>) then enter the passphrase that you have entered when you created your key and then everything should be fine (gpg-agent should automatically sign)</p>
<p>See this answer on how to set longer timeouts for your passphrase so that you do not have to do this all the time.</p>
<p>Or you can completely remove the passphrase with ssh-keygen -p</p>
<p>Edit: Do a man gpg-agent to read some stuff on how to have the above happen automatically and add the lines:</p>
<p>GPG_TTY=$(tty)<br>export GPG_TTY<br>on your .bashrc if you are using bash(this is the correct answer but I am keeping my train of thought above as well)</p>
<p>my environment</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gpg --version</span><br><span class="line">gpg (GnuPG) 2.2.19</span><br><span class="line">libgcrypt 1.8.5</span><br><span class="line">Copyright (C) 2019 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br></pre></td></tr></table></figure>

<p>reference:<br><a href="https://stackoverflow.com/questions/39494631/gpg-failed-to-sign-the-data-fatal-failed-to-write-commit-object-git-2-10-0" target="_blank" rel="noopener">reference</a></p>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    辣椒の酱
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="https://removeif.github.io/develop/github-gpg-failed-to-sign-the-data.html" title="github gpg failed to sign the data">https://removeif.github.io/develop/github-gpg-failed-to-sign-the-data.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.
  </li>
  <li class="post-copyright-license">
      <strong>文章评论：</strong>
      <a href="https://removeif.github.io/develop/github-gpg-failed-to-sign-the-data.html#comment-container">点击评论</a>
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/remove.io/tags/git/" rel="tag"># git</a>
          
            <a href="/remove.io/tags/gpg-sign/" rel="tag"># gpg sign</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/remove.io/database/mysql/mysql-like模糊查询优化.html" rel="next" title="mysql-like模糊查询优化">
                <i class="fa fa-chevron-left"></i> mysql-like模糊查询优化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/remove.io/database/mysql/mysql允许最大sql语句长度配置.html" rel="prev" title="mysql允许最大sql语句长度配置">
                mysql允许最大sql语句长度配置 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@master/images/tuzi.jpg" alt="辣椒の酱">
            
              <p class="site-author-name" itemprop="name">辣椒の酱</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/remove.io/archives/">
              
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/remove.io/categories/index.html">
                  <span class="site-state-item-count">42</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/remove.io/tags/index.html">
                  <span class="site-state-item-count">84</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/remove.io/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      
    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">辣椒の酱</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/remove.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/remove.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/remove.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/remove.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/remove.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/remove.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/remove.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/remove.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/remove.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/remove.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/remove.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/remove.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/remove.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
